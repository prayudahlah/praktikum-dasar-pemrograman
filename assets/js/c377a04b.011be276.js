"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["264"],{91231:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>R,default:()=>V,assets:()=>M,toc:()=>G,frontMatter:()=>L});var i=JSON.parse('{"id":"index","title":"docusaurus-live-brython","description":"This theme provides a @theme/CodeEditor component that is powered by Brython. It allows you to execute and edit Python code blocks directly in your markdown files.","source":"@site/docs/index.md","sourceDirName":".","slug":"/","permalink":"/docs/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"API"},"sidebar":"defaultSidebar","next":{"title":"Meta-Comments","permalink":"/docs/meta-comments/"}}'),l=t("85893"),s=t("50065"),r=t("67294"),o=t("67026"),d=t("69599"),a=t("16550"),c=t("32000"),h=t("4520"),u=t("38341"),p=t("68737");function f(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||r.isValidElement(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function x(e){let{value:n,tabValues:t}=e;return t.some(e=>e.value===n)}var m=t("7227");let y="tabList_fbd4",g="tabItem_v5XY";function j(e){let{className:n,block:t,selectedValue:i,selectValue:s,tabValues:r}=e,a=[],{blockElementScrollPositionUntilNextRender:c}=(0,d.o5)(),h=e=>{let n=e.currentTarget,t=r[a.indexOf(n)].value;t!==i&&(c(n),s(t))},u=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{let t=a.indexOf(e.currentTarget)+1;n=a[t]??a[0];break}case"ArrowLeft":{let t=a.indexOf(e.currentTarget)-1;n=a[t]??a[a.length-1]}}n?.focus()};return(0,l.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},n),children:r.map(e=>{let{value:n,label:t,attributes:s}=e;return(0,l.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>a.push(e),onKeyDown:u,onClick:h,...s,className:(0,o.Z)("tabs__item",g,s?.className,{"tabs__item--active":i===n}),children:t??n},n)})})}function b(e){let{lazy:n,children:t,selectedValue:i}=e,s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){let e=s.find(e=>e.props.value===i);return e?(0,r.cloneElement)(e,{className:(0,o.Z)("margin-top--md",e.props.className)}):null}return(0,l.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==i}))})}function v(e){let n=function(e){let{defaultValue:n,queryString:t=!1,groupId:i}=e,l=function(e){let{values:n,children:t}=e;return(0,r.useMemo)(()=>{let e=n??f(t).map(e=>{let{props:{value:n,label:t,attributes:i,default:l}}=e;return{value:n,label:t,attributes:i,default:l}});return!function(e){let n=(0,u.lx)(e,(e,n)=>e.value===n.value);if(n.length>0)throw Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}(e),[s,o]=(0,r.useState)(()=>(function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!x({value:n,tabValues:t}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}let i=t.find(e=>e.default)??t[0];if(!i)throw Error("Unexpected error: 0 tabValues");return i.value})({defaultValue:n,tabValues:l})),[d,m]=function(e){let{queryString:n=!1,groupId:t}=e,i=(0,a.k6)(),l=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t}),s=(0,h._X)(l);return[s,(0,r.useCallback)(e=>{if(!l)return;let n=new URLSearchParams(i.location.search);n.set(l,e),i.replace({...i.location,search:n.toString()})},[l,i])]}({queryString:t,groupId:i}),[y,g]=function(e){var n;let{groupId:t}=e;let i=(n=t)?`docusaurus.tab.${n}`:null,[l,s]=(0,p.Nk)(i);return[l,(0,r.useCallback)(e=>{if(!!i)s.set(e)},[i,s])]}({groupId:i}),j=(()=>{let e=d??y;return x({value:e,tabValues:l})?e:null})();return(0,c.Z)(()=>{j&&o(j)},[j]),{selectedValue:s,selectValue:(0,r.useCallback)(e=>{if(!x({value:e,tabValues:l}))throw Error(`Can't select invalid tab value=${e}`);o(e),m(e),g(e)},[m,g,l]),tabValues:l}}(e);return(0,l.jsxs)("div",{className:(0,o.Z)("tabs-container",y),children:[(0,l.jsx)(j,{...n,...e}),(0,l.jsx)(b,{...n,...e})]})}function _(e){let n=(0,m.Z)();return(0,l.jsx)(v,{...e,children:f(e.children)},String(n))}let w="tabItem__kUE";function k(e){let{children:n,hidden:t,className:i}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,o.Z)(w,i),hidden:t,children:n})}let N="browserWindow_my1Q",T="browserWindowHeader_jXSR",A="buttons_uHc7",C="browserWindowAddressBar_Pd8y",H="dot_giz1",D="browserWindowMenuIcon_Vhuh",I="bar_rrRL",S="browserWindowBody_Idgs";function E(e){let{children:n,minHeight:t,url:i="http://localhost:3000",style:s,bodyStyle:r}=e;return(0,l.jsxs)("div",{className:N,style:{...s,minHeight:t},children:[(0,l.jsxs)("div",{className:T,children:[(0,l.jsxs)("div",{className:A,children:[(0,l.jsx)("span",{className:H,style:{background:"#f25f58"}}),(0,l.jsx)("span",{className:H,style:{background:"#fbbe3c"}}),(0,l.jsx)("span",{className:H,style:{background:"#58cb42"}})]}),(0,l.jsx)("div",{className:(0,o.Z)(C,"text--truncate"),children:i}),(0,l.jsx)("div",{className:D,children:(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:I}),(0,l.jsx)("span",{className:I}),(0,l.jsx)("span",{className:I})]})})]}),(0,l.jsx)("div",{className:S,style:r,children:n})]})}let L={sidebar_position:1,sidebar_label:"API"},R="docusaurus-live-brython",M={},G=[{value:"Interactive code editor",id:"interactive-code-editor",level:2},{value:"Editor Configuration",id:"editor-configuration",level:2},{value:"Title (title)",id:"title-title",level:3},{value:"Slim Mode (slim)",id:"slim-mode-slim",level:3},{value:"Read-Only Mode (readonly)",id:"read-only-mode-readonly",level:3},{value:"Hide Download Button (noDownload)",id:"hide-download-button-nodownload",level:3},{value:"Hide the Compare Button (noCompare)",id:"hide-the-compare-button-nocompare",level:3},{value:"Hide the Reset Button (noReset)",id:"hide-the-reset-button-noreset",level:3},{value:"Max Line Number before Scroll (maxLines)",id:"max-line-number-before-scroll-maxlines",level:3},{value:"Imports",id:"imports",level:3},{value:"Persist Changes (id)",id:"persist-changes-id",level:3},{value:"Save Versions (versioned)",id:"save-versions-versioned",level:3},{value:"Hide the Version History (noHistory)",id:"hide-the-version-history-nohistory",level:3},{value:"Configuration",id:"configuration",level:2}];function B(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components},{Details:t}=n;return!t&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"docusaurus-live-brython",children:"docusaurus-live-brython"})}),"\n",(0,l.jsxs)(n.p,{children:["This theme provides a ",(0,l.jsx)(n.code,{children:"@theme/CodeEditor"})," component that is powered by ",(0,l.jsx)(n.a,{href:"https://brython.info/",children:"Brython"}),". It allows you to execute and edit Python code blocks directly in your markdown files.\nDocusaurus Theme to display markdown code blocks as an executable and editable Brython Live Editor."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://www.npmjs.com/package/docusaurus-live-brython/",children:(0,l.jsx)(n.img,{src:"https://img.shields.io/npm/v/docusaurus-live-brython",alt:"NPM Version"})})}),"\n",(0,l.jsx)(n.h2,{id:"interactive-code-editor",children:"Interactive code editor"}),"\n",(0,l.jsxs)(n.p,{children:["(Powered by ",(0,l.jsx)(n.a,{href:"https://brython.info/",children:"Brython"}),")"]}),"\n",(0,l.jsxs)(n.p,{children:["You can create an interactive coding editor with the ",(0,l.jsx)(n.code,{children:"docusuaurs-live-brython"})," plugin. First, add the plugin to your package."]}),"\n",(0,l.jsxs)(_,{children:[(0,l.jsx)(k,{value:"Yarn",label:"yarn",default:!0,children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"yarn add docusaurus-live-brython\n"})})}),(0,l.jsx)(k,{value:"npm",label:"npm",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm install --save docusaurus-live-brython\n"})})}),(0,l.jsx)(k,{value:"pnpm",label:"pnpm",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm add docusaurus-live-brython\n"})})})]}),"\n",(0,l.jsxs)(n.p,{children:["You will also need to add the plugin to your ",(0,l.jsx)(n.code,{children:"docusaurus.config.js"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"export default {\n  // ...\n  // highlight-next-line\n  themes: ['docusaurus-live-brython'],\n  // ...\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["To use the plugin, create a code block with ",(0,l.jsx)(n.code,{children:"live_py"})," attached to the language meta string."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py\nfrom turtle import *\ncolor('red', 'yellow')\nbegin_fill()\nwhile True:\n    forward(200)\n    left(170)\n    p = pos()\n    if abs(p[0]) < 1 and abs(p[1]) < 1:\n        break\nend_fill()\n```\n"})}),"\n",(0,l.jsx)(n.p,{children:"The code block will be rendered as an interactive editor. Changes to the code will reflect on the result panel live when the code is executed."}),"\n",(0,l.jsx)(E,{children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py",children:"from turtle import *\ncolor('red', 'yellow')\nbegin_fill()\nwhile True:\n    forward(200)\n    left(170)\n    p = pos()\n    if abs(p[0]) < 1 and abs(p[1]) < 1:\n        break\nend_fill()\n"})})}),"\n",(0,l.jsx)(n.h2,{id:"editor-configuration",children:"Editor Configuration"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Default"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"title"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["The used Codeblock Language (",(0,l.jsx)(n.code,{children:"PYTHON"}),")"]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"The title of the code block."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"id"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"''"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Persists the changes of the code editor."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"slim"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Removes the header and hides the line numbers."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"readonly"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Makes the editor read-only."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"versioned"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Saves versions of the code."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"noDownload"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Hides the download button."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"noCompare"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Hides the compare button."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"noReset"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Hides the reset button."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"noHistory"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Hides the version history."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"maxLines"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"25"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"The maximum number of lines before the editor will scroll."})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"title-title",children:"Title (title)"}),"\n",(0,l.jsxs)(n.p,{children:["You can add a title to the code block by adding a ",(0,l.jsx)(n.code,{children:"title"})," to the meta string."]}),"\n",(0,l.jsx)(n.admonition,{title:"Spaces",type:"warning",children:(0,l.jsxs)(n.p,{children:["The space character is not supported, because it is used as a separator in the meta string of a code block. Use an underscore ",(0,l.jsx)(n.code,{children:"_"})," or ",(0,l.jsx)(n.code,{children:"-"})," instead."]})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py title=example.py\n```\n"})}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.mdxAdmonitionTitle,{children:["Use ",(0,l.jsx)(n.code,{children:"_"})," in the title"]}),(0,l.jsx)(n.p,{children:"To use an underscore, you can use the following syntax:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py title=example__file.py\n```\n"})}),(0,l.jsx)(E,{children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py title=example__file.py id=8ba96031-71e6-47dd-be6e-9164761653ee",children:"print('Hello Title')\n"})})})]}),"\n",(0,l.jsx)(n.h3,{id:"slim-mode-slim",children:"Slim Mode (slim)"}),"\n",(0,l.jsxs)(n.p,{children:["Sometimes an editor with a header is visually too big. For small code snippets, you can use the ",(0,l.jsx)(n.code,{children:"slim"})," mode to reduce the size of the editor. This will remove the header and hides the line numbers."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py slim\nprint('Hello Slim Mode')\n```\n"})}),"\n",(0,l.jsx)(E,{children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py slim",children:"print('Hello Slim Mode')\n"})})}),"\n",(0,l.jsx)(n.admonition,{title:"Persistance",type:"warning",children:(0,l.jsxs)(n.p,{children:["Slim Editor does not support persistance. The ",(0,l.jsx)(n.code,{children:"id"})," attribute is ignored in slim mode."]})}),"\n",(0,l.jsx)(n.h3,{id:"read-only-mode-readonly",children:"Read-Only Mode (readonly)"}),"\n",(0,l.jsxs)(n.p,{children:["You can make the editor read-only by adding the ",(0,l.jsx)(n.code,{children:"readonly"})," meta string."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py readonly\nprint('Hello Read-Only Mode')\n```\n"})}),"\n",(0,l.jsx)(E,{children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py readonly",children:"print('Hello Read-Only Mode')\n"})})}),"\n",(0,l.jsxs)(n.admonition,{title:"Works with Persisted Code",type:"tip",children:[(0,l.jsx)(n.p,{children:"When the code is persisted, the read-only mode is still applied."}),(0,l.jsxs)(t,{children:[(0,l.jsx)("summary",{children:"Usecase: Teachers in Schools"}),(0,l.jsxs)(n.p,{children:["This is especially usefull in a School-Context, where some exercises/exams shall be done only during a given time, but you'd like to feedback the handed in solutions. Then the ",(0,l.jsx)(n.code,{children:"readonly"})," attribute is added and the students see their edits, but can't edit it."]}),(0,l.jsxs)(n.p,{children:["Yes, this only works secure if you swizzle the ",(0,l.jsx)(n.code,{children:"Store.tsxt"}),"/",(0,l.jsx)(n.code,{children:"Storage.ts"})," component/script and introduce a custom connection to a server-backend, where the code is stored and fetched from."]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"hide-download-button-nodownload",children:"Hide Download Button (noDownload)"}),"\n",(0,l.jsxs)(n.p,{children:["You can hide the download button by adding the ",(0,l.jsx)(n.code,{children:"noDownload"})," meta string."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py noDownload\nprint('Hello No Download Button')\n```\n"})}),"\n",(0,l.jsx)(E,{children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py noDownload",children:"print('Hello No Download Button')\n"})})}),"\n",(0,l.jsx)(n.h3,{id:"hide-the-compare-button-nocompare",children:"Hide the Compare Button (noCompare)"}),"\n",(0,l.jsxs)(n.p,{children:["Whenever changes to the code were made, you can compare with the original code. You can hide the compare button by adding the ",(0,l.jsx)(n.code,{children:"noCompare"})," meta string."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py noCompare\nprint('Hello No Compare Button')\n```\n"})}),"\n",(0,l.jsxs)(E,{children:[(0,l.jsx)(n.p,{children:"Make some changes and note that no compare button is shown."}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py noCompare",children:"print('Hello No Compare Button')\n"})})]}),"\n",(0,l.jsx)(n.h3,{id:"hide-the-reset-button-noreset",children:"Hide the Reset Button (noReset)"}),"\n",(0,l.jsxs)(n.p,{children:["The reset button allows you to reset the code to the original code. You can hide the reset button by adding the ",(0,l.jsx)(n.code,{children:"noReset"})," meta string."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py noReset\nprint('Hello No Reset Button')\n```\n"})}),"\n",(0,l.jsxs)(E,{children:[(0,l.jsx)(n.p,{children:"Edit the code and note that the reset button is hidden."}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py noReset",children:"print('Hello No Reset Button')\n"})})]}),"\n",(0,l.jsx)(n.h3,{id:"max-line-number-before-scroll-maxlines",children:"Max Line Number before Scroll (maxLines)"}),"\n",(0,l.jsxs)(n.p,{children:["You can specify the maximum number of lines before the editor will scroll. This is useful for long code snippets. The default value is ",(0,l.jsx)(n.code,{children:"25"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py maxLines=5\nprint('Line 1')\nprint('Line 2')\nprint('Line 3')\nprint('Line 4')\nprint('Line 5')\nprint('Line 6 - scrolled')\n```\n"})}),"\n",(0,l.jsx)(E,{children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py maxLines=5",children:"print('Line 1')\nprint('Line 2')\nprint('Line 3')\nprint('Line 4')\nprint('Line 5')\nprint('Line 6 - scrolled')\n"})})}),"\n",(0,l.jsx)(n.h3,{id:"imports",children:"Imports"}),"\n",(0,l.jsxs)(n.p,{children:["By default, all python scripts that are located in the ",(0,l.jsx)(n.code,{children:"static/bry-libs/"})," directory can be imported directly from the code blocks. This allows you to create reusable modules that can be imported into your code blocks."]}),"\n",(0,l.jsxs)(n.p,{children:["The script ",(0,l.jsx)(n.code,{children:"grid.py"})," is added by default to ",(0,l.jsx)(n.code,{children:"static/bry-libs/grid.py"})," when you run the dev-server."]}),"\n",(0,l.jsxs)(t,{children:[(0,l.jsxs)("summary",{children:["Content of ",(0,l.jsx)(n.code,{children:"grid.py"})]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",children:"from browser import document # type: ignore\nfrom config import Config # type: ignore\n\nclass Rectangle():\n    col: int\n    row: int\n    ctx = None\n    grid = None\n    init_draw = False\n    def __init__(self, grid, col: int, row: int, color: str = ''):\n        self.col = col\n        self.row = row\n        self.grid = grid\n        self.init_draw = False\n        try:\n            canvas = document[Config.CANVAS_ID]\n            self.ctx = canvas.getContext('2d')\n        except:\n            pass\n        self._color = color\n        \n    def get(self, offset_x: int, offset_y: int):\n        y = (self.row + offset_y) % len(self.grid) # type: ignore\n        x = (self.col + offset_x) % len(self.grid[y]) # type: ignore\n        return self.grid[y][x] # type: ignore\n\n    @property\n    def color(self):\n        return self._color\n\n    @color.setter\n    def color(self, color: str):\n        if color == '':\n            color = 'rgba(0,0,0,0)'\n\n        if self._color == color and self.init_draw:\n            return\n        self._color = color\n        self.init_draw = True\n        self.draw()\n\n    def draw(self):\n        scale = self.grid.scale # type: ignore\n        x = self.col * scale\n        y = self.row * scale\n        try:\n            self.ctx.clearRect(x, y, scale, scale) # type: ignore\n            self.ctx.lineWidth = 0 # type: ignore\n            self.ctx.fillStyle = self.color # type: ignore\n            self.ctx.fillRect(x, y, scale, scale) # type: ignore\n        except:\n            pass\n\n    def copy(self, grid):\n        return Rectangle(grid, self.col, self.row, self.color)\n\n    def __repr__(self):\n        return self.color\n\nclass RectLine():\n    line: list = []\n    n = 0\n    max = 0\n    def __init__(self, grid, row, cols: int | list, color: str = ''):\n        self.grid = grid\n        if type(cols) == list:\n            self.line = cols # type: ignore\n        else:\n            self.line = [Rectangle(grid, col, row, color) for col in range(cols)] # type: ignore\n        self.max = len(self.line) # type: ignore\n    \n    def __getitem__(self, key):\n        return self.line[key]\n\n    def __setitem__(self, key, value):\n        self.line[key].color = value\n\n    def __repr__(self):\n        return ', '.join([f'{r.color}' for r in self.line])\n\n    def __iter__(self):\n        self.n = 0\n        return self\n\n    def __next__(self):\n        if self.n < self.max:\n            result = self[self.n]\n            self.n += 1\n            return result\n        else:\n            raise StopIteration\n    \n    def __len__(self):\n        return self.max\n\n    def draw(self):\n        for rect in self.line:\n            rect.draw()\n    \n    def copy(self, grid):\n        return RectLine(grid, self.line[0].row, [l.copy(grid) for l in self.line]) # type: ignore\n\nclass Grid():\n    lines = []\n    n = 0\n    max = 0\n    CANVAS_ID = ''\n    WIDTH = 500\n    HEIGHT = 500\n    scale = 10\n    record_gif = False\n    frames = {}\n\n    def __init__(self, rows: int, cols: int, color: str = '', scale: int = -1):\n        if scale < 0:\n            if rows > 0 and cols > 0:\n                scale = min(Grid.WIDTH // cols, Grid.HEIGHT // rows)\n            else:\n                scale = 10\n        self.scale = scale\n        self.lines = [RectLine(self, row, cols, color) for row in range(rows)]\n        self.max = rows\n    \n    @staticmethod\n    def setup(width: int, height: int, record_gif: bool = False):\n        Grid.HEIGHT = height\n        Grid.WIDTH = width\n        Grid.record_gif = record_gif\n        Grid.frames = {}\n        canvas = document[Config.CANVAS_ID]\n        parent = canvas.parent\n        parent.replaceChildren()\n    \n        canv = document.createElement('canvas')\n        canv.style.display = 'block'\n        canv.id = Config.CANVAS_ID;\n        canv.attrs['height'] = height\n        canv.attrs['width'] = width\n        canv.style.width = f'{width}px'\n        canv.style.height = f'{height}px'\n        parent.appendChild(canv)\n\n    @staticmethod\n    def from_bin_text(bin_text: str, colors={'s': 'black', '1': 'black', 'x': 'black', 'bg': ''}):\n        lines = bin_text.lower().splitlines()\n        if 'bg' not in colors:\n            colors['bg'] = ''\n        while len(lines) > 0 and len(lines[0]) == 0:\n            lines.pop(0)\n        size_y = len(lines)\n        if size_y < 1:\n            raise Exception('Grid must have at least one non empty line')\n        size_x = max(map(lambda x: len(x), lines))\n\n        scale = min(Grid.WIDTH // size_x, Grid.HEIGHT // size_y)\n        grid = Grid(0, 0, colors['bg'], scale)\n        raw_grid = []\n        for line in lines:\n            raw_line = []\n            for x in range(size_x):\n                if x < len(line):\n                    raw_line.append(Rectangle(grid, x, len(raw_grid), colors.get(line[x], colors['bg'])))\n                else:\n                    raw_line.append(Rectangle(grid, x, len(raw_grid), colors['bg']))\n            raw_grid.append(RectLine(grid, len(raw_grid), raw_line))\n        grid.set_lines(raw_grid)\n        grid.draw()\n        return grid\n        \n\n    def set_lines(self, lines):\n        self.lines = lines\n        self.max = len(lines)\n\n        \n    def tolist(self):\n        return [[c.color for c in l.line] for l in self.lines]\n\n    @property\n    def color_grid(self):\n        return self.tolist()\n\n    @property\n    def grid(self):\n        return self.tolist()\n\n    @property\n    def size(self):\n        return (self.dim_y, self.dim_x)\n\n    @property\n    def dim_x(self):\n        if self.max < 1:\n            return 0\n        return len(self[0])\n\n    @property\n    def dim_y(self):\n        return len(self.lines)\n\n    @staticmethod\n    def clear_canvas():\n        try:\n            canvas = document[Config.CANVAS_ID]\n            ctx = canvas.getContext('2d')\n            ctx.clearRect(0, 0, Grid.WIDTH, Grid.HEIGHT) # type: ignore\n        except:\n            pass\n\n\n    def draw(self):\n        for line in self.lines:\n            line.draw()\n\n    @staticmethod\n    def gif_add():\n        if Grid.record_gif:\n            canvas = document[Config.CANVAS_ID]\n            frameName = 'frame_' + str(len(Grid.frames)).rjust(3, '0')\n            Grid.frames[frameName] = canvas.toDataURL('image/png');\n\n\n\n    def fill(self, color: str = ''):\n        for line in self.lines:\n            for cell in line:\n                cell.color = color\n\n    def copy(self):\n        cp = Grid(0, 0)\n        lines = [l.copy(cp) for l in self.lines]\n        cp.set_lines(lines)\n        return cp\n\n\n    def __getitem__(self, key):\n        return self.lines[key]\n\n    def __setitem__(self, key, value):\n        self.lines[key] = value\n        \n    def __repr__(self):\n        rep = ''\n        for line in self.lines:\n            rep += f'{line}'\n            rep += '\\n'\n        return rep\n    \n    def __iter__(self):\n        self.n = 0\n        return self\n\n    def __next__(self):\n        if self.n < self.max:\n            result = self[self.n]\n            self.n += 1\n            return result\n        else:\n            raise StopIteration\n\n    def __len__(self):\n        return self.max\n"})})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py title=grid__example.py",children:"from grid import Grid\nGrid.clear_canvas()\nsmile = Grid.from_text('''\n       \n x    x\n \n \n \n x    x \n xxxxxx\n \n''')\nsmile.draw()\n"})}),"\n",(0,l.jsx)(n.h3,{id:"persist-changes-id",children:"Persist Changes (id)"}),"\n",(0,l.jsxs)(n.p,{children:["You can persist the changes of the code editor by adding an ",(0,l.jsx)(n.code,{children:"id"})," to the code block. The changes will be stored in the local storage and the content will be restored when the page is reloaded."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py id=example\n# changes made in this code block will be stored in the local storage\n```\n"})}),"\n",(0,l.jsx)(E,{children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py id=example",children:"# changes made in this code block will be stored in the local storage\n"})})}),"\n",(0,l.jsx)(n.admonition,{title:"Unique IDs",type:"warning",children:(0,l.jsx)(n.p,{children:"Make sure that the IDs on the entire website (not just on this page) are unique, otherwise the behavior may be unexpected for your users. (The code will be overwritten by the last changed code block with the same id)."})}),"\n",(0,l.jsx)(n.admonition,{title:"UUID",type:"tip",children:(0,l.jsxs)(n.p,{children:["A good way to ensure unique IDs is to use a UUID. For VS Code users, the extension ",(0,l.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=motivesoft.vscode-uuid-generator",children:"UUID Generator by Motivesoft"})," is handy to insert new UUIDs with ",(0,l.jsx)(n.code,{children:"Alt+Shift+U"}),"."]})}),"\n",(0,l.jsx)(n.h3,{id:"save-versions-versioned",children:"Save Versions (versioned)"}),"\n",(0,l.jsxs)(n.p,{children:["You can save versions of the code by adding the ",(0,l.jsx)(n.code,{children:"versioned"})," meta string. This will add a version history to the editor. Every Change is saved as a new version, but not more than once every 1 second (configurable through the ",(0,l.jsx)(n.code,{children:"syncMaxOnceEvery"})," option in the ",(0,l.jsx)(n.code,{children:"docusaurus.config.js"}),")."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py versioned id=fe506dd7-1507-4929-ad07-302d22529d79\nprint('Hello Versioned Mode')\n```\n"})}),"\n",(0,l.jsxs)(E,{children:[(0,l.jsx)(n.p,{children:"Try it by changing the code and then clicking on the version history details."}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-py",metastring:"live_py versioned id=fe506dd7-1507-4929-ad07-302d22529d79",children:"print('Hello Versioned Mode')\n"})})]}),"\n",(0,l.jsx)(n.admonition,{title:"Only in Persisted Mode",type:"warning",children:(0,l.jsxs)(n.p,{children:["The versioned mode only works in combination with the ",(0,l.jsx)(n.code,{children:"id"})," attribute. The ",(0,l.jsx)(n.code,{children:"id"})," attribute is used to store the versions in the local storage."]})}),"\n",(0,l.jsx)(n.h3,{id:"hide-the-version-history-nohistory",children:"Hide the Version History (noHistory)"}),"\n",(0,l.jsxs)(n.p,{children:["You can hide the version history by adding the ",(0,l.jsx)(n.code,{children:"noHistory"})," meta string. This will only hide the history, but has no impact on the ",(0,l.jsx)(n.code,{children:"versioned"})," prop."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"```py live_py versioned noHistory\nprint('Hello No History')\n```\n"})}),"\n",(0,l.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",metastring:"title=docusaurus.config.js",children:"export default {\n  themes: [\n    [\n      'theme-live-codeblock',\n      {\n        /**\n         * The path to the brython source file.\n         * @default 'https://raw.githack.com/brython-dev/brython/master/www/src/brython.js\n         */\n        brythonSrc: string;\n        /**\n         * The path to the brython standard library source file.\n         * @default 'https://raw.githack.com/brython-dev/brython/master/www/src/brython_stdlib.js'\n         */\n        brythonStdlibSrc: string;\n        /**\n         * The folder path to brython specific libraries.\n         * When a python file imports a module, the module is searched in the\n         * `libDir` directory.\n         * By default, the libDir is created in the static folder and the needed\n         * python files are copied there. This can be changed by setting \n         * `skipCopyAssetsToLibDir` to true and setting libDir to a custom path.\n         * Make sure to copy the needed python files to the custom libDir.\n         * @default '/bry-libs/'\n         */\n        libDir: string;\n        /**\n         * Skip copying the brython specific libraries to the `libDir`.\n         * Make sure to copy the needed python files to the custom libDir\n         * yourself.\n         * @ref [needed python files](https://github.com/lebalz/docusaurus-live-brython/tree/main/src/assets)\n         * @default false\n         */\n        skipCopyAssetsToLibDir: boolean;\n        /**\n         * Specifies the the time in milliseconds to wait before syncing \n         * current changes to the local store.\n         * This is useful to prevent storing the code on every key press.\n         * @default 1000\n         */\n        syncMaxOnceEvery: number;  \n      }\n    ]\n  ],\n};\n"})})]})}function V(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(B,{...e})}):B(e)}}}]);